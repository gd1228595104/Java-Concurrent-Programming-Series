# å¦‚ä½•ä¼˜é›…åœ°å…³é—­ä¸€ä¸ªçº¿ç¨‹
å‰é¢ç»™å¤§å®¶å±•ç¤ºäº†å¦‚ä½•åˆ›å»ºå’Œä½¿ç”¨Javaçº¿ç¨‹ï¼Œè®²è§£äº†çº¿ç¨‹çš„çŠ¶æ€åŠå…¶æ¯ä¸ªçŠ¶æ€ä¹‹é—´çš„æµè½¬ï¼Œæ¥ä¸‹æ¥ç»™å¤§å®¶åˆ†äº«ï¼Œå¦‚ä½•æ­£ç¡®åœ°å…³é—­ä¸€ä¸ªJavaçº¿ç¨‹ã€‚

æˆ‘ä»¬çŸ¥é“ï¼Œä¸€ä¸ªJavaçº¿ç¨‹è¢«å¯åŠ¨åï¼Œçº¿ç¨‹ç±»ä¸­çš„`run()`æ–¹æ³•ä¼šè¢«å›è°ƒï¼Œå½“`run()`æ–¹æ³•æ‰§è¡Œå®Œæˆåè¿›å…¥ç»ˆæ­¢çŠ¶æ€ï¼Œè¿™æ˜¯çº¿ç¨‹çš„è‡ªç„¶ç»ˆæ­¢ã€‚å½“æˆ‘ä»¬ä¸æƒ³è®©çº¿ç¨‹è‡ªç„¶ç»ˆæ­¢ï¼Œæƒ³åœ¨å…¶è¿è¡ŒæœŸé—´å°±å…³é—­ï¼Œåº”è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ

### Thread.stop()
åœ¨`Thread`ä¸­æä¾›äº†ä¸€ä¸ª`stop()`æ–¹æ³•ï¼Œç”¨äºå…³é—­æ­£åœ¨è¿è¡Œä¸­çš„çº¿ç¨‹ã€‚å¤§å®¶å¯ä»¥å»çœ‹çœ‹è¿™ä¸ªæ–¹æ³•çš„æºç ï¼Œå¯ä»¥çœ‹åˆ°å®ƒè¢«`@Deprecated`æ³¨è§£æ ‡è¯†ï¼Œæ„å‘³ç€æ­¤æ–¹æ³•æ˜¯ä¸æ¨èä½¿ç”¨çš„ã€‚å¤§å®¶å¯ä»¥çœ‹çœ‹æ–‡æ¡£è¯´æ˜ğŸ‘‡
> https://docs.oracle.com/javase/1.5.0/docs/guide/misc/threadPrimitiveDeprecation.html

ç®€å•è¯´æ˜ä¸€ä¸‹ï¼Œè¯¥æ–¹æ³•ä¼šå¯¼è‡´ä¸¤ä¸ªé—®é¢˜

* åœ¨æ‰§è¡Œrunæ–¹æ³•æ—¶ï¼Œæ¯ä¸€ä¸ªè¡Œä»£ç éƒ½å¯èƒ½ä¼šæŠ›å‡º ThreadDeath å¼‚å¸¸
* ä¼šé‡Šæ”¾å½“å‰çº¿ç¨‹ä¸­çš„æ‰€æœ‰é”ï¼Œé‡Šæ”¾ä¹‹åå¯èƒ½ä¼šè®©ä¸€äº›æ“ä½œå¤±å»åŸå­æ€§ã€‚

ä¸‹é¢å¯ä»¥çœ‹çœ‹ç¤ºä¾‹ä»£ç 
```java
public class CloseThreadEample implements Runnable {

    @Override
    public void run() {
        try {
            for (int i = 0; i < 1000 ;i++ ) {
                System.out.println("HelloWorld" + i);
            }
            System.out.println("over");
        } catch (Throwable e) {
            e.printStackTrace();
        }
    }

    public static void main(String[] args) throws InterruptedException {
        Thread thread = new Thread(new CloseThreadEample());
        thread.start();
        Thread.sleep(1);
        thread.stop();
    }
}

```
è¿è¡Œç»“æœï¼š

```txt
HelloWorld52
HelloWorld53java.lang.ThreadDeath
	at java.lang.Thread.stop(Thread.java:853)
	at org.example.closethread.CloseThreadEample.main(CloseThreadEample.java:25)
```
è¿™æ®µè¿è¡Œç»“æœå·²ç»å±•ç¤ºäº†å‰é¢æåˆ°çš„ä¸¤ä¸ªé—®é¢˜ï¼Œç¬¬ä¸€ä¸ªé—®é¢˜å¯ä»¥æ˜æ˜¾çœ‹åˆ°ï¼Œä½¿ç”¨`stop`åï¼Œä¼šæŠ›å‡º`ThreadDeath`å¼‚å¸¸ï¼Œè®©`run`æ–¹æ³•è¢«ä¸­æ–­ï¼Œä»è€Œæ— æ³•æ­£å¸¸æ‰“å°å‡º "over"ï¼Œé‚£ç¬¬äºŒä¸ªé—®é¢˜æ˜¯æ€ä¹ˆä½“ç°å‡ºæ¥çš„å‘¢ï¼Ÿæˆ‘ä»¬å¯ä»¥ç»§ç»­çœ‹çœ‹`System.out.println`æ–¹æ³•çš„æºç 

```java
 public void println(String x) {
        synchronized (this) {
            print(x);
            newLine();
        }
    }
```
`println`æ–¹æ³•æ˜¯ä½¿ç”¨äº†`synchronized`å…³é”®å­—ï¼Œç†è®ºä¸Š`print(x)`å’Œ`newLine()`ä¸¤è¡ŒæŒ‡ä»¤æ˜¯åŸå­æ€§çš„ï¼Œä¹Ÿå°±æ˜¯è¯´è¦ä¹ˆä¸€èµ·æ‰§è¡ŒæˆåŠŸï¼Œè¦ä¹ˆéƒ½ä¸æ‰§è¡Œï¼Œä»è¿è¡Œç»“æœå¯ä»¥çœ‹åˆ°ï¼Œæ‰“å°å®Œâ€œHelloWorld53â€åï¼Œæ²¡æœ‰ç»§ç»­æ‰“å°æ¢è¡Œæ“ä½œï¼Œå°±ç›´æ¥æ‰“å°äº†å¼‚å¸¸ä¿¡æ¯ï¼Œè¿™å°±è¯´æ˜äº†ï¼Œä½¿ç”¨`stop`æ–¹æ³•åï¼Œé‡Šæ”¾äº†`synchronized`åŒæ­¥é”ï¼Œä½¿å¾—ç”¨äºæ‰“å°çš„ä¸¤è¡ŒæŒ‡ä»¤ä»£ç å¤±å»äº†åŸå­æ€§ï¼Œä»è€Œå¯¼è‡´äº†`newLine()`æ²¡æœ‰æ‰§è¡Œã€‚
æ—¢ç„¶`stop()`æ–¹æ³•ä¸æ¨èä½¿ç”¨ï¼Œé‚£è¿˜æœ‰ä»€ä¹ˆæ–¹æ³•å…³é—­çº¿ç¨‹å‘¢ï¼Ÿ

### Thread.interrupt()
`Thread`æä¾›äº†`interrupt()`æ–¹æ³•ï¼Œå®ƒæ²¡æœ‰åƒ`stop()`æ–¹æ³•é‚£æ ·ï¼Œç›´æ¥ä¸­æ–­ä¸€ä¸ªçº¿ç¨‹çš„æ‰§è¡Œï¼Œè€Œæ˜¯é€šè¿‡ä¿¡å·é‡æ¥é€šçŸ¥çº¿ç¨‹å¯ä»¥åœæ­¢æ‰§è¡Œäº†ï¼Œå½“çº¿ç¨‹æ”¶åˆ°è¯¥ä¿¡å·é‡æ—¶ï¼Œå¯ä»¥é€šè¿‡`isInterrupted()`æ–¹æ³•åˆ¤æ–­å½“å‰æ˜¯å¦éœ€è¦ä¸­æ–­ã€‚è¿™æ ·çš„åœæ­¢æ–¹å¼ï¼Œç›¸æ¯”`stop()`æ˜¯ä¸æ˜¯æ›´åŠ å‹å¥½ï¼Œè®©çº¿ç¨‹è‡ªå·±åˆ¤æ–­èƒ½å¦ä¸­æ–­ï¼Œä»è€Œä¿è¯ä¸šåŠ¡å¤„ç†çš„å®Œæ•´æ€§ã€‚

ä¸‹é¢çœ‹çœ‹å…·ä½“ä¾‹å­ï¼š

```java
public class InterruptThreadExample implements Runnable {
    @Override
    public void run() {
        int i = 0;
        while (!Thread.currentThread().isInterrupted()) {
            System.out.println("helloworld" + i++);
        }
        System.out.println("over");
    }

    public static void main(String[] args) throws InterruptedException {
        Thread thread = new Thread(new InterruptThreadExample());
        thread.start();
        thread.sleep(10);
        thread.interrupt();
    }
}
```

è¿è¡Œç»“æœï¼š
```txt
helloworld260
helloworld261
helloworld262
over
```
åœ¨ç¤ºä¾‹ä»£ç ä¸­ï¼Œé€šè¿‡`isInterrupted()`æ–¹æ³•åˆ¤æ–­çº¿ç¨‹æ˜¯å¦è¢«ä¸­æ–­ï¼Œå¦‚æœä¸æ˜¯ï¼Œåˆ™å¾ªç¯æ‰“å°â€œhelloworldâ€å­—ç¬¦ä¸²ã€‚
å¯ä»¥çœ‹åˆ°ï¼Œä½¿ç”¨`interrupt()`æ–¹æ³•åï¼Œçº¿ç¨‹æ˜¯æ­£å¸¸ç»“æŸçš„ï¼Œâ€œoverâ€ ä¹Ÿæ˜¯æ­£å¸¸æ‰“å°ã€‚

å½“ç„¶ï¼Œè™½ç„¶è¿™ç§æ–¹å¼å¯ä»¥å‹å¥½åœ°åœæ­¢çº¿ç¨‹ï¼Œä½†æ˜¯ï¼Œå¦‚æœä½¿ç”¨ä¸å½“ï¼Œçº¿ç¨‹æ˜¯æ— æ³•è¢«åœæ­¢çš„ã€‚

å½“ä¸€ä¸ªçº¿ç¨‹å› ä¸º`sleep()`,`Object.wait()`ç­‰æ–¹æ³•è¿›å…¥é˜»å¡çŠ¶æ€æ—¶ï¼Œæ­¤æ—¶è°ƒç”¨`interrupt()`æ–¹æ³•ï¼Œçº¿ç¨‹æ˜¯æ— æ³•æ­£å¸¸å“åº”çš„ï¼Œå®ƒä¼šæŠ›å‡ºä¸€ä¸ª`InterruptedException`å¼‚å¸¸ï¼Œè¿™ä¸ªå¼‚å¸¸æˆ‘ä»¬å¯ä»¥åœ¨å„ä¸ªé˜»å¡æ–¹æ³•ä¸­çœ‹åˆ°ã€‚

```java
   public static void sleep(long millis, int nanos) throws InterruptedException {...}
   
    public static native void sleep(long millis) throws InterruptedException;
   
   public final native void wait(long timeout) throws InterruptedException;
   
   public final void join() throws InterruptedException {...}
  
   ...
    
```
æŠ›å‡ºè¿™ä¸ªå¼‚å¸¸æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿä¸‹é¢æˆ‘ä»¬ç»§ç»­çœ‹ä¾‹å­

```java
public class InterruptThreadExample implements Runnable {
    @Override
    public void run() {
        int i = 0;
        while (!Thread.currentThread().isInterrupted()) {
            System.out.println("helloworld" + i++);
            try {
                Thread.sleep(100);
            } catch (InterruptedException e) {
                e.printStackTrace();
            }
        }
        System.out.println("over");
    }

    public static void main(String[] args) throws InterruptedException {
        Thread thread = new Thread(new InterruptThreadExample());
        thread.start();
        thread.sleep(1000);
        thread.interrupt();
    }
}

```
è¿è¡Œç»“æœï¼š
```txt
helloworld6
helloworld7
helloworld8
helloworld9
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at org.example.closethread.InterruptThreadExample.run(InterruptThreadExample.java:14)
	at java.lang.Thread.run(Thread.java:748)
helloworld10
helloworld11
helloworld12
```
ç¬”è€…åœ¨åŸæ¥çš„ä»£ç ä¸Šç»§ç»­åŠ ä¸Šäº†`Thread.sleep(100)`ä»£ç ï¼Œä»è¿è¡Œç»“æœå¯ä»¥çœ‹åˆ°ï¼Œå½“è°ƒç”¨`interrupt()`æ–¹æ³•åï¼Œä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œä½†æ˜¯çº¿ç¨‹ä»ç„¶åœ¨è¿è¡Œï¼ŒæŒç»­æ‰“å°â€œhelloworldâ€ï¼Œè¿™æ˜¯ä»€ä¹ˆåŸå› é€ æˆçš„å‘¢ï¼Ÿç¬”è€…ä¹Ÿä¸å–å…³å­äº†ï¼Œç»§ç»­çœ‹ä¸‹ä¸€ä¸ªä¾‹å­ã€‚

```java
public class InterruptThreadExample implements Runnable {
    @Override
    public void run() {
        int i = 0;
        while (!Thread.currentThread().isInterrupted()) {
            System.out.println("helloworld" + i++);
            try {
                Thread.sleep(100);
            } catch (InterruptedException e) {
                System.out.println("å‡ºç°å¼‚å¸¸åçº¿ç¨‹çš„ä¸­æ–­çŠ¶æ€: " + Thread.currentThread().isInterrupted());
                Thread.currentThread().interrupt();
                System.out.println("é‡æ–°è°ƒç”¨interrupt()æ–¹æ³•åçš„çº¿ç¨‹çŠ¶æ€ï¼š" + Thread.currentThread().isInterrupted());
                e.printStackTrace();
            }
        }
        System.out.println("over");
    }

    public static void main(String[] args) throws InterruptedException {
        Thread thread = new Thread(new InterruptThreadExample());
        thread.start();
        thread.sleep(1000);
        thread.interrupt();
        System.out.println("è°ƒç”¨interrpt()æ–¹æ³•åçš„çº¿ç¨‹çŠ¶æ€ï¼š" + thread.isInterrupted()); 
    }
}
```
è¿è¡Œç»“æœï¼š

```txt
helloworld8
helloworld9
è°ƒç”¨interrpt()æ–¹æ³•åçš„çº¿ç¨‹çŠ¶æ€ï¼štrue
å‡ºç°å¼‚å¸¸åçº¿ç¨‹çš„ä¸­æ–­çŠ¶æ€: false
é‡æ–°è°ƒç”¨interrupt()æ–¹æ³•åçš„çº¿ç¨‹çŠ¶æ€ï¼štrue
over
java.lang.InterruptedException: sleep interrupted
	at java.lang.Thread.sleep(Native Method)
	at org.example.closethread.InterruptThreadExample.run(InterruptThreadExample.java:14)
	at java.lang.Thread.run(Thread.java:748)

```
åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œç¬”è€…åˆ†åˆ«åœ¨è°ƒç”¨`interrupt()`æ–¹æ³•åå’Œå‡ºç°å¼‚å¸¸åæ‰“å°äº†çº¿ç¨‹çš„`isInterrupted()`ä¿¡æ¯ï¼Œä»è¿è¡Œç»“æœå¯ä»¥çœ‹åˆ°ï¼Œçº¿ç¨‹æ˜¯è¢«æ­£å¸¸å…³é—­çš„ï¼Œä¸€å¼€å§‹åœ¨mainæ–¹æ³•ä¸­è°ƒç”¨äº†`interrupt()`æ–¹æ³•åï¼Œå¯ä»¥çœ‹åˆ°`isInterrupted()`æ˜¯ä¸º`ture`çš„,ä½†æ˜¯åœ¨å‡ºç°å¼‚å¸¸ä¹‹åï¼Œ`isInterrupted()`åˆå˜å›äº†`false`ï¼Œè¿™æ˜¯å› ä¸ºåœ¨æŠ›å‡ºå¼‚å¸¸æ—¶ï¼Œé™¤äº†å”¤é†’è¢«é˜»å¡çš„çº¿ç¨‹å¤–ï¼Œè¿˜ä¼šå¯¹ä¸­æ–­æ ‡è®°è¿›è¡Œå¤ä½ï¼Œå°†ä¸­æ–­æ ‡è®°é‡æ–°è®¾ç½®ä¸º`false`ï¼Œæ­¤æ—¶éœ€è¦é‡æ–°è°ƒç”¨`interrupt()`æ–¹æ³•æ‰èƒ½ä¸­æ–­çº¿ç¨‹ã€‚

è¿™æ ·è®¾è®¡çš„ç›®çš„æ˜¯ä¸ºäº†å°†ä¸­æ–­å†³å®šæƒäº¤ç»™çº¿ç¨‹æœ¬èº«ï¼Œå¦‚æœæŠ›å‡ºå¼‚å¸¸ï¼Œæé†’å½“å‰çº¿ç¨‹æœ‰ä¸­æ–­çš„æ“ä½œï¼Œè‡³äºæ¥ä¸‹æ¥æ€ä¹ˆå¤„ç†ï¼Œå°±å–å†³äºçº¿ç¨‹æœ¬èº«å¦‚ä½•å†³å®šäº†ï¼Œå¯ä»¥ä¸ç”¨ç†ä¼šæ­¤æ¬¡ä¸­æ–­æ“ä½œç»§ç»­å‘ä¸‹æ‰§è¡Œï¼Œä¹Ÿå¯ä»¥é€šè¿‡`break`ä¸­æ–­æ­»å¾ªç¯ï¼Œæˆ–è€…é€šè¿‡`return`ç›´æ¥è¿”å›ç­‰ç­‰ã€‚

æˆ‘ä»¬å¯ä»¥çœ‹çœ‹`interrupt()`æ–¹æ³•çš„æºç 
```java
public void interrupt() {
    if (this != Thread.currentThread())
        checkAccess();

    synchronized (blockerLock) {
        Interruptible b = blocker;
        if (b != null) {
            interrupt0();           // Just to set the interrupt flag
            b.interrupt(this);
            return;
        }
    }
    interrupt0();
}
```

```java
    private native void interrupt0();
```

å¯ä»¥çœ‹åˆ°, åœ¨è¯¥æ–¹æ³•ä¸­ï¼Œé€šè¿‡è°ƒç”¨`interrupt0()`æ–¹æ³•è®¾ç½®ä¸€ä¸ªæ ‡è®°ï¼Œè€Œæ­¤æ–¹æ³•åˆæ˜¯nativeæ–¹æ³•,å®ƒæ˜¯ä½¿ç”¨C/C++è¯­è¨€å®ç°çš„æ¥å£ï¼Œè®¾ç½®æ ‡è®°çš„é€»è¾‘æ˜¯åœ¨JVMå±‚é¢å®ç°çš„ã€‚

æ¥ä¸‹æ¥ç»§ç»­çœ‹çœ‹ `isInterrupted()`æ–¹æ³•çš„æºç 
```java

    /**
     * Tests whether the current thread has been interrupted.  The
     * <i>interrupted status</i> of the thread is cleared by this method.  In
     * other words, if this method were to be called twice in succession, the
     * second call would return false (unless the current thread were
     * interrupted again, after the first call had cleared its interrupted
     * status and before the second call had examined it).
     *
     * <p>A thread interruption ignored because a thread was not alive
     * at the time of the interrupt will be reflected by this method
     * returning false.
     *
     * @return  <code>true</code> if the current thread has been interrupted;
     *          <code>false</code> otherwise.
     * @see #isInterrupted()
     * @revised 6.0
     */
    public static boolean interrupted() {
        return currentThread().isInterrupted(true);
    }
    
    /**
     * Tests whether this thread has been interrupted.  The <i>interrupted
     * status</i> of the thread is unaffected by this method.
     *
     * <p>A thread interruption ignored because a thread was not alive
     * at the time of the interrupt will be reflected by this method
     * returning false.
     *
     * @return  <code>true</code> if this thread has been interrupted;
     *          <code>false</code> otherwise.
     * @see     #interrupted()
     * @revised 6.0
     */
    public boolean isInterrupted() {
        return isInterrupted(false);
    }

    /**
     * Tests if some Thread has been interrupted.  The interrupted state
     * is reset or not based on the value of ClearInterrupted that is
     * passed.
     */
    private native boolean isInterrupted(boolean ClearInterrupted);
```

åŒæ ·ï¼Œæœ€ç»ˆä¹Ÿæ˜¯è°ƒç”¨ä¸€ä¸ªnativeæ–¹æ³•å»åˆ¤æ–­è¿™ä¸ªæ ‡è¯†ï¼Œä»nativeæ–¹æ³•çš„æ³¨é‡Šä¸Šå¯ä»¥è§£è¯»åˆ°ï¼Œå®ƒæ˜¯é€šè¿‡å‚æ•°`ClearInterrupted`åˆ¤æ–­æ˜¯å¦éœ€è¦é‡ç½®ä¸­æ–­çŠ¶æ€çš„ï¼Œè€Œä¼ å…¥trueçš„çš„åœ°æ–¹æ˜¯`public static boolean interrupted() `è¿™ä¸ªæ–¹æ³•,æˆ‘ä»¬çœ‹ä¸€ä¸‹è¿™ä¸ªæ–¹æ³•ä¼šåœ¨å“ªé‡Œè¢«ç”¨åˆ°ã€‚

![](https://files.mdnice.com/user/21786/307af423-f650-45a6-9c17-fe37b4cbbd88.png)

å¤§éƒ¨åˆ†éƒ½æ˜¯åœ¨JUCåŒ…ä¸­ç”¨åˆ°ï¼Œæˆ‘ä»¬å…ˆéšä¾¿æŒ‘ä¸ªæ–¹æ³•è¿›å»çœ‹ä¸€ä¸‹ï¼Œè¿™é‡Œé€‰æ‹©`LinkedTransferQueue`ç±»çš„`transfer`æ–¹æ³•

```java
public void transfer(E e) throws InterruptedException {
        if (xfer(e, true, SYNC, 0) != null) {
            Thread.interrupted(); // failure possible only due to interrupt
            throw new InterruptedException();
        }
    }
```
å¯ä»¥çœ‹åˆ°ï¼Œå®ƒåœ¨è°ƒç”¨`Thread.interrupted();`åï¼Œå¯¹æ ‡è®°ä½è¿›è¡Œé‡ç½®ï¼Œç„¶åæŠ›å‡ºäº†`InterruptedException`å¼‚å¸¸ï¼Œæœ‰æ²¡æœ‰è§‰å¾—è¿™é‡Œçš„è®¾è®¡å’Œçº¿ç¨‹é˜»å¡åï¼Œç„¶åè°ƒç”¨`interrupt()`æ–¹æ³•è¿›è¡Œä¸­æ–­æ—¶æŠ›å‡º`InterruptedException`å¼‚å¸¸æ˜¯ä¸€æ ·çš„ï¼Œä»è¿™é‡Œä¹Ÿå¯ä»¥è”æƒ³æ¨æµ‹JVMåº•å±‚é˜»å¡æ–¹æ³•çš„å®ç°ï¼Œåº”è¯¥ä¹Ÿæ˜¯å…ˆå°†çº¿ç¨‹çš„ä¸­æ–­æ ‡è®°ä½é‡æ–°è®¾ç½®ä¸ºfalseï¼Œç„¶åæŠ›å‡ºå¼‚å¸¸ã€‚

å› ä¸ºç¬”è€…æ²¡æœ‰æ¥è§¦è¿‡C/C++ï¼Œæ‰€ä»¥æ— æ³•ç»§ç»­ç»™å¤§å®¶å‰–æJVMåº•å±‚çš„ä»£ç å®ç°ï¼Œåªèƒ½é€šè¿‡åœ¨Javaå±‚é¢æ‰¾åˆ°ç±»ä¼¼çš„è®¾è®¡è¿›è¡Œç±»æ¯”ï¼Œè¯­è¨€è™½ä¸åŒï¼Œä½†æ€æƒ³æ˜¯ç›¸é€šçš„ã€‚

### æ€»ç»“
ä»Šå¤©ä¸»è¦è®²äº†åœ¨Javaä¸­å…³é—­ä¸€ä¸ªçº¿ç¨‹çš„ä¸¤ç§æ–¹å¼ï¼Œ
* ç¬¬ä¸€ç§æ˜¯é€šè¿‡`stop()`æ–¹æ³•å¼ºåˆ¶ä¸­æ–­ï¼Œæ­¤æ–¹æ³•ä¸æ¨èä½¿ç”¨ï¼Œä¼šå‡ºç°ä¸å¯æ§çš„é—®é¢˜;
* ç¬¬äºŒç§æ˜¯é€šè¿‡`interrupt()`æ–¹æ³•ï¼Œé€šè¿‡è®¾ç½®æ ‡è®°ä½è¿›è¡Œä¸­æ–­ï¼Œä¹Ÿæ˜¯Javaä¸­æ¨èçš„æ–¹å¼ï¼Œå°†ä¸­æ–­é€‰æ‹©æƒäº¤ç»™äº†çº¿ç¨‹ï¼Œè¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯æŠ›å‡º`InterruptedException`è¿™ä¸ªå¼‚å¸¸ä¸æ„å‘³ç€çº¿ç¨‹çš„ç»“æŸï¼Œå¦‚æœä½ ä½¿ç”¨åˆ°äº†çº¿ç¨‹çš„ä¸­æ–­æ ‡è¯†ï¼Œè®°ä½**å®ƒä¼šå¯¹ä¸­æ–­æ ‡è¯†è¿›è¡Œå¤ä½**ï¼Œå½“ç„¶ä½ å¯ä»¥è‡ªå·±æ•è·åˆ°å¼‚å¸¸åè¿›è¡Œè‡ªå·±æƒ³è¦çš„ä¸€äº›å¤„ç†ã€‚

> å¥½äº†ï¼Œä»Šå¤©çš„å­¦ä¹ å°±åˆ°è¿™é‡Œã€‚è¯»å®Œè®°å¾— èµ ä¸€ä¸ªï¼Œæœ€æ–°æ–‡ç« å¯ä»¥ç‚¹å‡» é˜…è¯»åŸæ–‡
